{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport async function getImagesByQuery(query) {\n\n\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n        key: \"54612397-f95ccc6630e34cb503ef4faef\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    }})\n        .then(res => {\n            return res.data.hits;\n        })\n        .catch(error =>\n            console.log(error.statusText)\n        )\n}\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst list = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\")\n\nlet galleryBox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n\n   const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" class=\"gallery-img\" alt=\"${tags}\"/>\n        </a>\n        <div class=gallery-wrapper>\n            <div class=\"text-wrapper\">\n                <h3 class=\"gallery-subtitle\">Likes</h3>\n                <p class=\"gallery-text\">${likes}</p>\n            </div>\n            <div class=\"text-wrapper\">\n                <h3 class=\"gallery-subtitle\">Views</h3>\n                <p class=\"gallery-text\">${views}</p>\n            </div>\n            <div class=\"text-wrapper\">\n                <h3 class=\"gallery-subtitle\">Comments</h3>\n                <p class=\"gallery-text\">${comments}</p>\n            </div>\n            <div class=\"text-wrapper\">\n                <h3 class=\"gallery-subtitle\">Downloads</h3>\n                <p class=\"gallery-text\">${downloads}</p>\n            </div>\n        </div>\n        </li>`\n   }).join(\"\");\n    \n    list.innerHTML = markup;\n\n    galleryBox.refresh();\n\n};\n\n\nexport function clearGallery(){\n    list.innerHTML = '';\n};\n\nexport function showLoader(){\n    loader.classList.remove(\"hidden\");\n};\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n};\n","import { getImagesByQuery } from \"./js/pixabay-api\"\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const value = event.target.elements[\"search-text\"].value.trim();\n\n    if (value.length === 0) {\n        return\n    }\n    \n    clearGallery()\n\n    showLoader()\n\n    getImagesByQuery(value)\n        .then(res => {\n            if (res.length === 0 ) {\n                iziToast.show ({\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    position: \"topRight\",\n                    color: \"red\"\n                });\n                return\n            }\n            createGallery(res);\n        })\n        .catch(error =>\n            iziToast.error({\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n                position: \"topRight\",\n                color: \"red\"\n            }))\n        .finally(\n            hideLoader\n        )\n\n    form.reset()\n\n}\n\n"],"names":["getImagesByQuery","query","axios","res","error","list","loader","galleryBox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","value","iziToast"],"mappings":"+vBAGO,eAAeA,EAAiBC,EAAO,CAG1C,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACR,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAAC,EACG,KAAKE,GACKA,EAAI,KAAK,IACnB,EACA,MAAMC,GACH,QAAQ,IAAIA,EAAM,UAAU,CAC/B,CACT,CChBA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAa,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAcC,EAAQ,CAEnC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACzF;AAAA,wCAC6BL,CAAa;AAAA,wBAC7BD,CAAY,8BAA8BE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA,cAI/C,EAAE,KAAK,EAAE,EAETb,EAAK,UAAYM,EAEjBJ,EAAW,QAAO,CAEtB,CAGO,SAASY,GAAc,CAC1Bd,EAAK,UAAY,EACrB,CAEO,SAASe,GAAY,CACxBd,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASe,GAAa,CACzBf,EAAO,UAAU,IAAI,QAAQ,CACjC,CCjDA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAErDC,EAAM,SAAW,IAIrBN,EAAc,EAEdC,EAAY,EAEZpB,EAAiByB,CAAK,EACjB,KAAKtB,GAAO,CACT,GAAIA,EAAI,SAAW,EAAI,CACnBuB,EAAS,KAAM,CACX,QAAS,2EACT,SAAU,WACV,MAAO,KAC3B,CAAiB,EACD,MACH,CACDjB,EAAcN,CAAG,CAC7B,CAAS,EACA,MAAMC,GACHsB,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,MAAO,KACvB,CAAa,CAAC,EACL,QACGL,CACH,EAELC,EAAK,MAAO,EAEhB"}